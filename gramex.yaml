# Generated by gramex init 1.57.0 (don't delete this line)

# App Configurations
# Configurations for app: modelhandler-demo
# ----------------------------------------------------------------------------
url:
  modelhandler-demo-home:
    pattern: /$YAMLURL/
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/index.html
      template: true

  uploadhandler:
    pattern: /$YAMLURL/upload
    handler: UploadHandler
    kwargs:
      if_exists: overwrite            # Overwrite the original without backup
      path: $YAMLPATH/upload_data
      methods: get                    # Upload listing
      redirect: /$YAMLURL/            # redirect to url

  formhandler:
    pattern: /$YAMLURL/data
    handler: FormHandler
    kwargs:
      url: $YAMLPATH/upload_data/data.csv

  modelhandler:
    pattern: /$YAMLURL/train_method
    handler: FunctionHandler
    kwargs:
      function: modelhandler_demo.train_method
      xsrf_cookies: false
      headers:
        Content-Type: text/plain
        Cache-Control: no-store

  workshop/final:
    pattern: /$YAMLURL/final
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/final.html
      template: true

  # snippets for workshop
  workshop/snippets/base:
    pattern: /$YAMLURL/snippets/base
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/snippets/base.html
      template: true

  workshop/snippets/table:
    pattern: /$YAMLURL/snippets/table
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/snippets/table.html
      template: true

  workshop/snippets/training:
    pattern: /$YAMLURL/snippets/training
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/snippets/training.html
      template: true

  workshop/snippets/upload:
    pattern: /$YAMLURL/snippets/upload_file
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/snippets/upload.html
      template: true
  
  workshop/snippets/curated:
    pattern: /$YAMLURL/snippets/curated
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/snippets/curated.html
      template: true

# Gramex init configurations for application
# ----------------------------------------------------------------------------
import:
  ui:
    path: $GRAMEXAPPS/ui/gramex.yaml
    YAMLURL: $YAMLURL/ui/

handlers:
  BaseHandler:
    # Custom error pages for this application
    error:
      400: {path: $YAMLPATH/error/400.html}     # Bad request: e.g. URL argument missing
      401: {path: $YAMLPATH/error/401.html}     # Unauthorized: User not logged in
      403: {path: $YAMLPATH/error/403.html}     # Forbidden: user does not have access
      404: {path: $YAMLPATH/error/404.html}     # File not found
      500: {path: $YAMLPATH/error/500.html}     # Internal server error
